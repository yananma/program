
`j` 向下，`k` 向上；扑克牌 j 在下面，k 在上面  

不退出 vim 执行 Linux 命令：`:!cmd`  
调整两个单词的顺序：`xp`  
最后一行：`Shift+l` Last  

w: word  
b: backward  
e: end  

词尾添加 `ea`  
词首添加 `bi`  

删除全部：`ggdG`  
从第 3 行开始删：`3ggdG`  

`:m,ny<Enter>` 复制m行到n行的内容，复制 pysnooper 用。  



不再使用 Vim，使用 Vim 配置的时间，已经远远超出了节省的时间(2020.12.04)  
可以用 Vim 的就用 Vim，不能用 Vim 的就用平常的方法  

# Vim 清单

还是 vimtutor 最靠谱，总结 vimtutor  

<br>
实践中总是要反复使用的，都要极其重视。

脑子里多存一些问题，主动阅读，才会search，才会探索，有需求才有学习的动力，有需求看到的时候，才会有醍醐灌顶的感觉。

<br>

**凡是可以简化重复性操作的方式，都会成倍地节省我们的时间。**

<br>

**方法就是要被反复使用的工具，每一条技巧都能解决一类问题。**

<br>

每天 1000 行，一行省 1 秒，10 年省 1014 小时。

**那自动补全功能剩下的时间就多了去了，11 月练习盲打，以后都不再看键盘**

<br>

**如果你要低头看着键盘打字，那学习 Vim 的好处不会立竿见影地显示出来。要高效地使用 Vim，必须学会盲打**

<br>


1、不要用方向键，不出主键盘。

2、 0 行首（左对齐）、 ^ 第一个非空白字符(像一顶蓑笠一样，有人在下面，才会戴蓑笠)

3、ce 词尾

4、gg 第一行、3 gg 第三行 、Ctrl + l 最后一行、

5、u 撤销、U 撤销一行、Ctrl + R 撤销撤销

6、V  5J 选 5 行



## 第一章 Vim 解决问题的方式
<br>

### 技巧1 结识.命令
<br>

**. 命令可以让我们重复上次的修改，非常强大。**

从进入插入模式，到返回普通模式为止，为 "上一次修改" 所指的范围、

Vim 可以录制任意数目的按键操作，然后在以后重复执行它们。我们把最常用的工作流程录制下来，并用一个按键重放它们。我们可以把 . 命令当做一个宏。

> G 缩进

<br>

### 技巧2 不要自我重复

<br>

**减少无关的移动**

不管在什么位置 A 都会在行尾插入。就是封装了 $a

C 等价于 c$

<br>

### 技巧3 以退为进

<br>

s 先删除光标下字符，然后进入插入模式

f 为查找

; 重复上次查找

,（逗号）可以反向查找f 上次所查找的字符 

<br>

### 技巧4 执行、重复、回退

<br>

在面对重复性工作时，我们能够让移动动作和修改都能够重复，这样就可以达到最佳编辑模式。

如果我们知道如何重复之前的操作，而无需每次都输入整条命令，那么我们就会获得更高的效率。我们可以先执行一次，随后只需重复即可。

当 Vim 让一个操作或移动可以很方便地重复时，它总是会提供某种方式，让我们在不小心做过头时能退回来。

重复用 . 命令，撤销用 u

<br>

### 技巧5 查找并手动替换

<br>

. 命令是我最喜爱的 Vim 命令，而排在第二位的是 * 命令，此命令可以查找当前光标下的单词。

按 * 光标会跳到下一项，所有出现这个单词的地方都会高亮。*(查找)、 cw{} Esc (改词)、n(下一个)、 .(重复改词) 
  
Vim 会把我们离开插入模式之前的全部按键操作都记录下来

<br>

### 技巧6 .范式 

<br>

**. 范式为最佳编辑模式**

<br>

**理想模式：一键移动，一键执行**

<br>

只需要按一次键就能把光标移动到下一个目标上

一键移动，一键执行，没有再比这更好的了，不是吗？这就是我们的理想解决方案，我们将会一次又一次地看到这一编辑模式

<br>

## 第二章 普通模式

<br>

### 技巧7 停顿时请移开画笔

<br>

画家不会再休息时把画笔放在画布上，对 Vim 而言也是这样，**普通模式就是 Vim 的自然放松状态**

<br>

### 技巧8 把撤销单元切成块

<br>

在 Vim 中我们可以控制撤销命令的粒度。

每次停顿都是一个自然的中断点，提示我该退出插入模式了。

如果发现错了，我会切换到普通模式，然后按 u 撤销，按一两次键，就可以舍弃之前的修改

<br>

### 技巧9 构造可重复的修改

<br>

按键次数少的方式更好，次数一样时，对比哪一个可以让 . 命令发挥最大的威力

如果要在几个地方做同样的小修改，就可以构造能被 . 命令重复执行的模式。一旦你养成了使修改可以重复的习惯，你就会马上能得到奖赏

daw 删除一个词

<br>

### 技巧11 能够重复，就别用次数

<br>

d2w 和 dw. 后者更好，因为有更细的粒度，再删除一个会更方便

如果是删除 7 个，d7w 也不如执行 7 次 dw. 因为很可能会数错，如果是.命令数错了按 u 就可以了


<br>

### 技巧12 双剑合璧，天下无敌

<br>

Vim 的强大很大程度上源自操作符与动作命令相结合

operator [number] motion 

这就是语法，用不同的词汇就会产生不同的句子，可以自己根据需要组织

我们能够执行的操作数目是巨大的，而且还可以通过自定义来扩展

Vim 语法只有一条额外规则：即当一个命令被连续调用两次时，它会作用于当前行

g~ 反转大小写  True 和 False 用

< 减小缩进   else 用


<br>

## 第 3 章 插入模式

<br>

大部分 Vim 命令都在非插入模式中执行

<br>

### 技巧13 在插入模式中可及时更正错误

<br>

盲打不仅仅是指输入时不看键盘，还意味着输入时要凭感觉。输错的时候，手指就能感知到

如果一个单词输错了，最好先删除整个单词，然后重新输入一遍。而且留意总是在哪些词上犯错误以后，犯错的次数也能减少很多

Ctrl + h 删除前一个字符(相当于退格键)
Ctrl + w 删除前一个单词
Ctrl + u 删除至行首

<br>

### 技巧14 返回插入模式

<br>

插入模式只专注于做一件事，就是输入文字

Ctrl+o 切换到插入-普通模式 

当我们处于插入模式下，想运行一条普通模式命令，然后马上返回原来位置继续输入，就可以使用插入-普通模式

zz 可以重绘屏幕，令当前行在窗口正中显示

<ctrl-o>zz 

<br>

### 技巧15

<br>



<br>

### 技巧26 在长短不一的高亮块后添加文本

<br>

<C-v>jj$ 选择块

A; 在所有行末尾添加 ; 

Esc





<br>

### 技巧46 让手指保持在本位行上

<br>

如果你在一行中连续按了两次以上的 h 键，那就是在浪费时间

h 和 l 只有在距离目标只差一两个字符是，我才会用到这两个键，除此之外我基本上不碰它们

我很少使用 h 键，所以很高兴它在外面

**因为我经常使用查找命令，所以很高兴它就在手指下面**


<br>

### 技巧47 区分实际行和屏幕行

<br>

j k 为实际行

gj gk 为屏幕行 


<br>

### 技巧48 基于单词移动

<br>

w 词头

b 反向词头

e 词尾

ge 反向词尾

**ea 在当前单词结尾添加，经常用到，像是一条命令似的**

<br>

### 技巧49 对字符进行查找

<br>

f 查找

; 重复查找

, 反向查找

f 和 ; 结合在一起很强大，它让我们用很少的键可以移动很远的距离

**; 命令和 , 命令是互为补充的，如果你去掉了其中一个，那么整个字符查找命令集的用处就要大打折扣了**

f 为移动到这个字符上

F 为反向

t 直到查找到指定字符为止(till），光标在前一个字符上

T 反向后一个字符上

f,dt. 删除后半句话，可以当做一个命令（查找到, 删除直到. 这样删除了,保留了。）

**通常，在行内移动是，用 f，当和 d{motion} 或 c{motion} 一起使用时，我更倾向于使用 t 命令**

**如果使用 f 命令时，你养成了选择非常见字母的习惯，那么一次抵达目标的可能性就会大幅提高**

比如 excellent，fx，然后 daw 删除该单词

g y p b    v k j    x q z 

<br>

### 技巧50 通过查找命令进行移动

<br>

虽然字符查找命令 f 和 t 用起来很方便，但是它们具有一定的局限性，这些命令只能查询一个字符，并且只能在行内查找，所以需要查找命令

在比较大的文档中，查找命令是非常经济实惠的移动方法

/{} 查找命令

比如删除几个单词，v 切换到可是模式，/{}<CR> 查找到目标单词，d 删除所选内容
  
也可以直接使用 d/{}<CR>   不用在进入可视模式
  
**学会把 d{motion} 和查找命令结合在一起使用，这是个很大的进步**


<br>

### 技巧51 用精确的文本对象选择选区

<br>

对于配对符号[] "" <> {} 光标放在哪里都没关系，只要在内部就可以了

a" 会选取双引号括起来的区域，包括双引号

i> 会选取尖括号内部的所有内容，不包括尖括号

i 当做 inside

a 当做 around

可视模式只有和操作符待决模式中使用文本对象，才能展示出它们的强大能力。

**记住：每当看到{motion}时，你也可以在这个地方使用文本对象，包括 d{motion}、c{motion} 和 y{motion}**

**ci" 修改双引号内部的内容** 非常好用

di" 删除

yi" 复制

这些命令非常简洁，而且非常方便


不管是 f{char} 查找单个字符，还是 /target<CR> 查找若干字符，工作模式都是一样的，寻找目标，瞄准，开火。如果做得好的话，一次就能命中目标。

这些强大的移动功能，允许我们花很少的力气就可以覆盖很大的区域，而文本对象则更上一层楼。



<br>

### 技巧52 删除周边，修改内部

<br>

iw 当前单词

aw 当前单词及一个空格

daw 会删除一个单词和一个空格，很干净

diw 删除一个单词，但是留下了空格，就变成了两个空格，不是我们想要的

**ciw 会修改这个单词，不影响空格，比如光标在 excellent 的 x 字母上，ciwmost Esc 就会改成 most**  常用

一般来说 d{motion} 命令和 aw（一个词加空格）、as（一个句子加空格）、ap（当前段落及一个空行）配合比较好

c{motion} 和 iw 以及文本对象一起用比较好


<br>

### 技巧54 在匹配括号间跳转

<br>

在修改前，要先执行一次 % 命令，设置标记，然后可以用 `` 跳回来

比如把 {} 改成 []   现在 { 按 %，然后 r[ 然后 `` 然后 r[

给 (0.3, 0.4) 加 [] ：ci(   []   Esc    p 



<br>

### 技巧59 用无名寄存器实现删除、复制与粘贴操作

<br>

最常见的错误莫过于将两个字母次序颠倒了

**xp 调换光标之后的两个字符** 比如经常拼错的 transforms

先用 F 反向查找

ddp 为调换当前行和它的下一行

yyp 复制当前行粘贴到下一行

yiw 只要光标在这个单词上，不管哪个字母，都可以复制这个单词


<br>

### 技巧

<br>



